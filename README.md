**Настраиваем бэкапы**

**1. Описание задания**  

Настроить стенд Vagrant с двумя виртуальными машинами: backup_server и client. (Студент самостоятельно настраивает Vagrant)Настроить удаленный бэкап каталога /etc c сервера client при помощи borgbackup. Резервные копии должны соответствовать следующим критериям:
1. директория для резервных копий /var/backup. Это должна быть отдельная точка монтирования. В данном случае для демонстрации размер не принципиален, достаточно будет и 2GB; (Студент самостоятельно настраивает)
2. репозиторий для резервных копий должен быть зашифрован ключом или паролем - на ваше усмотрение;
3. имя бэкапа должно содержать информацию о времени снятия бекапа;
4. глубина бекапа должна быть год, хранить можно по последней копии на конец месяца, кроме последних трех. Последние три месяца должны содержать копии на каждый день. Т.е. должна быть правильно настроена политика удаления старых бэкапов;
5. резервная копия снимается каждые 5 минут. Такой частый запуск в целях демонстрации;
6. написан скрипт для снятия резервных копий. Скрипт запускается из соответствующей Cron джобы, либо systemd timer-а - на ваше усмотрение;
7. настроено логирование процесса бекапа. Для упрощения можно весь вывод перенаправлять в logger с соответствующим тегом. Если настроите не в syslog, то обязательна ротация логов.

 **2. Выполенение задания.**
1. Основываясь на задание. На хост машине создал директорияю, в нее создал вагрантфайл, также все осатльные файлы нужные для настройки удаленных хостов: hosts, pasword.yml, anasible.cfg. В директори проекта создал поддиректорию tmp где содержаться временные файл. 
2. На основе задания и ранее созданных файлом, создал файл borg.yml -- плейбук для настройки обоих удаленных хостов.
3. Находясь в папке проекта запустил плейбук. Убедился, что он отработал без ошибок.
4. Находясь в папке проекта подлкючился по ssh к хосту client. и проверил работу службы и таймера, также наличие созадание бекапа.
5. Написал отчет в редми, залили нужные файлы для проверки на гитхаб. 
